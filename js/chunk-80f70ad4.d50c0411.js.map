{"version":3,"sources":["webpack:///./src/views/ReserveTable.vue?9083","webpack:///./src/components/auth/SignInModal.vue?5353","webpack:///src/components/auth/SignInModal.vue","webpack:///./src/components/auth/SignInModal.vue?3825","webpack:///./src/components/auth/SignInModal.vue","webpack:///src/views/ReserveTable.vue","webpack:///./src/views/ReserveTable.vue?9707","webpack:///./src/views/ReserveTable.vue","webpack:///./src/views/ReserveTable.vue?562a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","slot","on","backToPubDetails","i","arrowBack","$event","preventDefault","reserve","_s","pubTable","tableNum","pub","ownerId","userId","_e","userDetails","firstName","surname","model","value","callback","$$v","ownerReservedOnBehalfOf","expression","ownerReservedOnBehalfOfPhone","pubName","isAuthenticated","$v","$invalid","login","cancel","staticRenderFns","staticStyle","modalClose","closeCircle","name","data","components","SignInForm","methods","$ionic","modalController","dismiss","component","validations","required","computed","$router","replace","console","log","alertController","reserveTable","$store","dispatch","created","email","key","$route","query","pubId","params","id"],"mappings":"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","file":"js/chunk-80f70ad4.d50c0411.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ion-page\"},[_c('ion-header',[_c('ion-toolbar',[_c('ion-title',[_vm._v(\"Reserve Table\")]),_c('ion-buttons',{attrs:{\"slot\":\"start\"},slot:\"start\"},[_c('ion-button',{on:{\"click\":_vm.backToPubDetails}},[_c('ion-icon',{attrs:{\"src\":_vm.i.arrowBack}})],1)],1)],1)],1),_c('ion-content',{staticClass:\"ion-padding\"},[_c('ion-grid',[_c('ion-row',{staticClass:\"ion-justify-content-center\"},[_c('ion-col',{attrs:{\"size\":\"12\",\"size-sm\":\"8\",\"size-md\":\"6\",\"size-xl\":\"4\"}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.reserve($event)}}},[_c('ion-item',{attrs:{\"lines\":\"none\"}},[_c('ion-label',{attrs:{\"position\":\"stacked\"}},[_vm._v(\"Table # To Reserve:\")]),_c('ion-input',{staticClass:\"disabled\",attrs:{\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.pubTable.tableNum))])],1),_c('ion-item',{attrs:{\"lines\":\"none\"}},[_c('ion-label',{attrs:{\"position\":\"stacked\"}},[_vm._v(\"Name on Reservation: \"),(_vm.pub.ownerId === _vm.userId)?_c('ion-text',{attrs:{\"color\":\"danger\"}},[_vm._v(\"*\")]):_vm._e()],1),(_vm.pub.ownerId !== _vm.userId)?_c('ion-input',{staticClass:\"disabled\",attrs:{\"type\":\"text\",\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.userDetails.firstName)+\" \"+_vm._s(_vm.userDetails.surname))]):_c('ion-input-vue',{attrs:{\"autofocus\":\"true\",\"type\":\"text\",\"inputmode\":\"text\",\"placeholder\":\"Please add name of person here\"},model:{value:(_vm.ownerReservedOnBehalfOf),callback:function ($$v) {_vm.ownerReservedOnBehalfOf=$$v},expression:\"ownerReservedOnBehalfOf\"}})],1),(_vm.pub.ownerId === _vm.userId)?_c('ion-item',{attrs:{\"lines\":\"none\"}},[_c('ion-label',{attrs:{\"position\":\"stacked\"}},[_vm._v(\"Their Phone Number: \"),_c('ion-text',{attrs:{\"color\":\"danger\"}},[_vm._v(\"*\")])],1),_c('ion-input-vue',{attrs:{\"inputmode\":\"tel\",\"type\":\"tel\",\"placeholder\":\"Please add number of person here\"},model:{value:(_vm.ownerReservedOnBehalfOfPhone),callback:function ($$v) {_vm.ownerReservedOnBehalfOfPhone=$$v},expression:\"ownerReservedOnBehalfOfPhone\"}})],1):_vm._e(),_c('ion-item',{attrs:{\"lines\":\"none\"}},[_c('ion-label',{attrs:{\"position\":\"stacked\"}},[_vm._v(\"In Pub:\")]),_c('ion-input-vue',{staticClass:\"disabled\",attrs:{\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.pub.pubName))])],1),_c('ion-item',{attrs:{\"lines\":\"none\"}},[_c('ion-label',{attrs:{\"position\":\"stacked\"}},[_vm._v(\"On date:\")]),_c('ion-input-vue',{staticClass:\"disabled\",attrs:{\"disabled\":\"\"}},[_vm._v(\"Today\")])],1),_c('p',{staticClass:\"info-text\"},[_c('ion-text',{attrs:{\"color\":\"secondary\"}},[_vm._v(\" There is NO time limit on this reservation. Once Reserved it will stay reserved unless freed by the patron or publican. You can stay at table until closing. \")])],1),(!_vm.isAuthenticated)?_c('div',{staticClass:\"ion-padding\"},[_c('ion-button',{staticClass:\"ion-no-margin\",attrs:{\"expand\":\"block\"},on:{\"click\":function($event){$event.preventDefault();return _vm.login($event)}}},[_vm._v(\"Sign In To Reserve\")])],1):_c('div',{staticClass:\"ion-padding\"},[_c('ion-button',{staticClass:\"ion-no-margin\",attrs:{\"expand\":\"block\",\"disabled\":_vm.$v.$invalid && _vm.pub.ownerId === _vm.userId,\"type\":\"submit\"}},[_vm._v(\"Confirm Reservation\")])],1),_c('div',{staticClass:\"ion-padding\"},[_c('ion-button',{staticClass:\"ion-no-margin\",attrs:{\"expand\":\"block\",\"color\":\"secondary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.cancel($event)}}},[_vm._v(\"Cancel\")])],1)],1)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ion-header',[_c('ion-toolbar',[_c('ion-title',[_vm._v(\"My Shout!\")]),_c('ion-buttons',{attrs:{\"slot\":\"end\"},slot:\"end\"},[_c('ion-button',{staticStyle:{\"padding-right\":\"12px\"},attrs:{\"color\":\"danger\"},on:{\"click\":_vm.modalClose}},[_c('ion-icon',{attrs:{\"src\":_vm.i.closeCircle}})],1)],1)],1)],1),_c('ion-content',{staticClass:\"ion-padding\"},[_c('ion-grid',[_c('ion-row',[_c('ion-col',{attrs:{\"size\":\"12\"}},[_c('sign-in-form',{attrs:{\"modalCloseParent\":_vm.modalClose,\"isModal\":true}})],1)],1)],1),_c('ion-grid',[_c('ion-row',{staticClass:\"ion-justify-content-center ion-padding-vertical\"},[_c('ion-router-link',{attrs:{\"href\":\"/#/signup\"},on:{\"click\":_vm.modalClose}},[_vm._v(\" Not signed up? Sign up here \")])],1),_c('ion-row',{staticClass:\"ion-justify-content-center ion-padding-top\"},[_c('ion-router-link',{attrs:{\"href\":\"/#/forgotpassword\"},on:{\"click\":_vm.modalClose}},[_vm._v(\" Forgot password? \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <ion-header>\n      <ion-toolbar>\n        <ion-title>My Shout!</ion-title>\n        <ion-buttons slot=\"end\">\n          <ion-button @click=\"modalClose\" color=\"danger\" style=\"padding-right:12px;\">\n            <ion-icon :src=\"i.closeCircle\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-header>\n    <ion-content class=\"ion-padding\">\n      <ion-grid>\n        <ion-row>\n          <ion-col size=\"12\">\n            <sign-in-form :modalCloseParent=\"modalClose\" :isModal=\"true\"></sign-in-form>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n      <ion-grid>\n        <ion-row class=\"ion-justify-content-center ion-padding-vertical\">\n        <ion-router-link href=\"/#/signup\" @click=\"modalClose\">\n          Not signed up? Sign up here\n        </ion-router-link>\n        </ion-row>\n        <ion-row class=\"ion-justify-content-center ion-padding-top\">\n        <ion-router-link href=\"/#/forgotpassword\" @click=\"modalClose\">\n          Forgot password?\n        </ion-router-link>\n      </ion-row>\n      </ion-grid>\n    </ion-content>\n  </div>\n</template>\n\n<script>\nimport SignInForm from './SignInForm'\nimport * as allIcons from 'ionicons/icons'\n\nexport default {\n  name: 'modal',\n  data () {\n    return {\n      i: allIcons\n    }\n  },\n  components: {\n    SignInForm\n  },\n  methods: {\n    modalClose: function () {\n      this.$ionic.modalController.dismiss()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignInModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignInModal.vue?vue&type=template&id=26529963&\"\nimport script from \"./SignInModal.vue?vue&type=script&lang=js&\"\nexport * from \"./SignInModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"ion-page\">\n    <ion-header>\n      <ion-toolbar>\n        <ion-title>Reserve Table</ion-title>\n        <ion-buttons slot=\"start\">\n          <ion-button @click=\"backToPubDetails\">\n            <ion-icon :src=\"i.arrowBack\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-header>\n    <ion-content class=\"ion-padding\">\n      <ion-grid>\n        <ion-row class=\"ion-justify-content-center\">\n          <ion-col size=\"12\" size-sm=\"8\" size-md=\"6\" size-xl=\"4\">\n            <form @submit.prevent=\"reserve\">\n              <ion-item lines=\"none\">\n                  <ion-label position=\"stacked\">Table # To Reserve:</ion-label>\n                  <ion-input class=\"disabled\" disabled>{{ pubTable.tableNum }}</ion-input>\n              </ion-item>\n              <ion-item lines=\"none\">\n                  <ion-label position=\"stacked\">Name on Reservation: <ion-text v-if=\"pub.ownerId === userId\" color=\"danger\">*</ion-text></ion-label>\n                  <ion-input v-if=\"pub.ownerId !== userId\" type=\"text\" class=\"disabled\" disabled>{{userDetails.firstName}} {{userDetails.surname}}</ion-input>\n                  <ion-input-vue v-else autofocus=\"true\" type=\"text\" inputmode=\"text\" v-model=\"ownerReservedOnBehalfOf\" placeholder=\"Please add name of person here\"></ion-input-vue>\n              </ion-item>\n              <ion-item lines=\"none\" v-if=\"pub.ownerId === userId\">\n                  <ion-label position=\"stacked\">Their Phone Number: <ion-text color=\"danger\">*</ion-text></ion-label>\n                  <ion-input-vue inputmode=\"tel\" type=\"tel\" v-model=\"ownerReservedOnBehalfOfPhone\" placeholder=\"Please add number of person here\"></ion-input-vue>\n              </ion-item>\n              <ion-item lines=\"none\">\n                  <ion-label position=\"stacked\">In Pub:</ion-label>\n                  <ion-input-vue class=\"disabled\" disabled>{{ pub.pubName }}</ion-input-vue>\n              </ion-item>\n              <ion-item lines=\"none\">\n                  <ion-label position=\"stacked\">On date:</ion-label>\n                  <ion-input-vue class=\"disabled\" disabled>Today</ion-input-vue>\n              </ion-item>\n\n              <p class=\"info-text\">\n                <ion-text color=\"secondary\">\n                There is NO time limit on this reservation. Once Reserved it will stay reserved unless freed by the patron or publican. You can stay at table until closing.\n                </ion-text>\n              </p>\n\n              <div v-if=\"!isAuthenticated\" class=\"ion-padding\">\n                  <ion-button expand=\"block\" class=\"ion-no-margin\" @click.prevent=\"login\">Sign In To Reserve</ion-button>\n              </div>\n              <div v-else class=\"ion-padding\">\n                  <ion-button expand=\"block\" class=\"ion-no-margin\" :disabled=\"$v.$invalid && pub.ownerId === userId\" type=\"submit\">Confirm Reservation</ion-button>\n              </div>\n              <div class=\"ion-padding\">\n                  <ion-button expand=\"block\" color=\"secondary\" class=\"ion-no-margin\" @click.prevent=\"cancel\">Cancel</ion-button>\n              </div>\n            </form>\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n    </ion-content>\n  </div>\n</template>\n\n<script>\nimport * as allIcons from 'ionicons/icons'\nimport { required } from 'vuelidate/lib/validators'\nimport { mapGetters } from 'vuex'\nimport Modal from '../components/auth/SignInModal.vue'\n\nexport default {\n  name: 'reserve-table',\n  data () {\n    return {\n      ownerReservedOnBehalfOf: null,\n      ownerReservedOnBehalfOfPhone: null,\n      i: allIcons\n    }\n  },\n  validations: {\n    ownerReservedOnBehalfOf: {\n      required\n    },\n    ownerReservedOnBehalfOfPhone: {\n      required\n    }\n  },\n  computed: {\n    ...mapGetters('pubModule', [\n      'pubTable',\n      'pub'\n    ]),\n    ...mapGetters('userModule', [\n      'isAuthenticated',\n      'userDetails',\n      'userId'\n    ])\n  },\n  methods: {\n    backToPubDetails () {\n      this.$router.replace({ name: 'pub-details', params: { id: this.pub.key } })\n    },\n    cancel () {\n      console.log('reserveTable.vue: cancel button clicked')\n      this.$router.replace({ name: 'pub-details', params: { id: this.pub.key } })\n    },\n    reserve () {\n      if (this.pub.ownerId === this.userId) {\n        this.reserveTable()\n      } else if (!this.pub.timeToArrivalLimitOn) {\n        return this.$ionic.alertController\n          .create({\n            cssClass: 'confirm-res',\n            header: 'Confirm Reservation',\n            // subHeader: 'Subtitle',\n            message: 'Please note that the pub can cancel your reservation at any time without notice if they believe that you have not arrived (or will not arrive) within a reasonable time.',\n            buttons: [\n              {\n                text: 'Back',\n                role: 'cancel',\n                // cssClass: 'secondary',\n                handler: () => {\n                  console.log('Reservation abandoned.')\n                }\n              },\n              {\n                text: 'Confirm',\n                handler: () => {\n                  this.reserveTable()\n                }\n              }\n            ]\n          })\n          .then(a => a.present())\n      } else {\n        return this.$ionic.alertController\n          .create({\n            cssClass: 'alert-cancel-res',\n            header: 'Confirm Reservation',\n            // subHeader: 'Subtitle',\n            message: 'Please note that if you do not arrive to your table within ' + this.pub.timeToArrivalLimitInMinutes + ' minutes then the pub can cancel your reservation without notice.',\n            buttons: [\n              {\n                text: 'Back',\n                role: 'cancel',\n                // cssClass: 'secondary',\n                handler: () => {\n                  console.log('Reservation abandoned.')\n                }\n              },\n              {\n                text: 'Confirm',\n                handler: () => {\n                  this.reserveTable()\n                }\n              }\n            ]\n          })\n          .then(a => a.present())\n      }\n    },\n    reserveTable () {\n      console.log('Reservation Confirmed')\n      console.log('reserveTable.vue: confirm reservation button clicked. submitting a new reservation')\n      if (this.pub.ownerId !== this.userId) {\n        console.log('cancelling all existing reservations for punter')\n        this.$store.dispatch('reservationModule/cancelOtherReservationForPunterAndReserveNew', { userId: this.userId, tableToIgnoreId: this.pubTable.key, patronDetails: { patronName: this.userDetails.firstName + ' ' + this.userDetails.surname, patronPhone: this.userDetails.phone } })\n      } else { // owner allowed make as many reservation as they wish in their own pub\n        console.log('reserveTable.vue: creating reservation')\n        this.$store.dispatch('reservationModule/createReservation', { patronName: this.ownerReservedOnBehalfOf, patronPhone: this.ownerReservedOnBehalfOfPhone })\n      }\n      this.$router.replace({ name: 'pub-details', params: { id: this.pub.key } })\n    },\n    login () {\n      return this.$ionic.modalController\n        .create({\n          component: Modal,\n          // cssClass: 'my-custom-class',\n          componentProps: {\n            parent: this,\n            store: this.$store,\n            router: this.$router,\n            data: {\n              // content: 'New Content'\n            },\n            propsData: {\n              title: 'Sign In'\n            }\n          }\n        })\n        .then(m => m.present())\n    }\n  },\n  created () {\n    if (!this.userDetails || this.userDetails.email === '') {\n      this.$store.dispatch('userModule/fetchUserDetails')\n    }\n    if (!this.pub.key || this.pub.key !== this.$route.query.pubId) {\n      console.log('this.$route.query:', this.$route.query)\n      console.log('no pub state - fetching from DB')\n      this.$store.dispatch('pubModule/fetchPubByPubId', this.$route.query.pubId)\n    }\n    if (!this.pubTable || this.pubTable.key !== this.$route.params.id) {\n      console.log('this.$route.params:', this.$route.params)\n      console.log('no pubTable state - fetching from DB')\n      this.$store.dispatch('pubModule/fetchPubTable', this.$route.params.id)\n    }\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.info-text{\n  font-size:12px;\n  padding-left:16px\n}\n\nion-content{\n  --background: #f4f2f7;\n}\n\nform{\n  background: white;\n  padding: 24px;\n}\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReserveTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReserveTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReserveTable.vue?vue&type=template&id=fe7eaa4a&scoped=true&\"\nimport script from \"./ReserveTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ReserveTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReserveTable.vue?vue&type=style&index=0&id=fe7eaa4a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe7eaa4a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReserveTable.vue?vue&type=style&index=0&id=fe7eaa4a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReserveTable.vue?vue&type=style&index=0&id=fe7eaa4a&lang=scss&scoped=true&\""],"sourceRoot":""}