(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-317f5b2c"],{"02f9":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ion-page"},[o("ion-header",[o("ion-toolbar",[o("ion-title",[t._v("Edit Tables")]),o("ion-buttons",{attrs:{slot:"start"},slot:"start"},[o("ion-button",{on:{click:t.backToEditPub}},[o("ion-icon",{attrs:{src:t.i.arrowBack}})],1)],1)],1)],1),o("ion-content",{staticClass:"ion-padding"},[o("ion-list",[o("ion-grid",{staticStyle:{"max-width":"1200px"}},[o("ion-row",t._l(t.sortedTables,(function(e){return o("ion-col",{key:e[".key"],attrs:{size:"12","size-md":"6","size-lg":"4"}},[o("table-card",{attrs:{i:t.i,pubTable:e,pubFloors:t.pub.floors}})],1)})),1)],1)],1),o("form",{staticStyle:{"max-width":"1200px",margin:"0 auto"},on:{submit:function(e){return e.preventDefault(),t.submitted(e)}}},[o("div",{staticClass:"ion-padding"},[o("ion-button",{staticClass:"ion-no-margin",attrs:{expand:"block",type:"submit"}},[t._v("Done For Now")])],1)])],1),o("router-view")],1)},i=[],s=(o("ac1f"),o("5319"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("table-card-base",{attrs:{i:t.i,pubTable:t.pubTable,pubFloors:t.pubFloors}},[o("ion-button",{attrs:{slot:"table-card-action-button",size:"default",fill:"outline"},on:{click:function(e){return e.preventDefault(),t.editTableDetails(e)}},slot:"table-card-action-button"},[t._v("Edit")])],1)}),n=[],u=o("ad6de"),r={props:["i","pubTable","pubFloors"],components:{TableCardBase:u["a"]},methods:{editTableDetails:function(){console.log("setting selected pub table:",this.pubTable),this.$store.dispatch("pubModule/setSelectedPubTable",this.pubTable),this.$router.push({name:"edit-table-details",params:{id:this.pubTable.pubId}})}}},l=r,b=o("2877"),c=Object(b["a"])(l,s,n,!1,null,null,null),d=c.exports,p=o("ff79"),h={name:"edit-pub-tables",components:{TableCard:d},data:function(){return{i:p}},methods:{submitted:function(){this.$router.replace({name:"pub-details",params:{id:this.pub.key}})},backToEditPub:function(){this.$router.replace({name:"edit-pub",params:{id:this.pub.key}})}},computed:{pubTables:function(){return this.$store.getters["pubModule/pubTables"]},pub:{get:function(){return this.$store.getters["pubModule/pub"]},set:function(t){this.$store.dispatch("pubModule/updatePub",t)}},sortedTables:function(){var t=this.pubTables;return t.sort((function(t,e){return t.tableNum-e.tableNum}))}},watch:{pubTables:function(t,e){console.log("pubTables is updated")}},created:function(){console.log(this.$route),console.log("current route param id ",this.$route.params.id),!this.pub||void 0!==this.$route.params.id&&this.pub.key!==this.$route.params.id?(console.log("fecthing pub linked to pub id of: ",this.$route.params.id),this.$store.dispatch("pubModule/fetchPubByPubId",this.$route.params.id)):(console.log("current pub key: ",this.pub.key),console.log("current pub in state matches current pub on screen - not retreiving data from db")),0===!this.pubTables.length&&(console.log("fecthing pub tables for pub with key of: ",this.$route.params.id),this.$store.dispatch("pubModule/fetchPubTables",this.$route.params.id))}},f=h,m=Object(b["a"])(f,a,i,!1,null,null,null);e["default"]=m.exports},8175:function(t,e,o){"use strict";var a=o("f57b"),i=o.n(a);i.a},ad6de:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("ion-card",{staticClass:"table-card"},[o("ion-card-header",[o("ion-card-subtitle",[t._v(t._s(t.pubTable.pubFloorArea))]),o("ion-card-title",[t._v("Table # "+t._s(t.pubTable.tableNum))]),o("ion-grid",[o("ion-row",{staticClass:"ion-justify-content-start ion-padding-top"},[o("div",[0===t.pubTable.floor?o("ion-text",[t._v("Ground Floor")]):o("ion-text",[t._v("Floor #: "+t._s(t.pubTable.floor))])],1)]),o("ion-row",[o("div",[o("ion-text",[t._v("No. of Seats: "+t._s(t.pubTable.seats))])],1)])],1)],1),o("ion-card-content",[t._t("table-card-other-details"),t._t("table-card-action-button"),t._t("table-card-action-button-info")],2)],1)],1)},i=[],s={props:["i","pubTable","pubFloors"]},n=s,u=(o("8175"),o("2877")),r=Object(u["a"])(n,a,i,!1,null,null,null);e["a"]=r.exports},f57b:function(t,e,o){}}]);
//# sourceMappingURL=chunk-317f5b2c.54037911.js.map