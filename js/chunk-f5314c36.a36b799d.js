(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5314c36"],{"3a55":function(e,t,s){},"43ad":function(e,t,s){},7495:function(e,t,s){"use strict";var i=s("3a55"),o=s.n(i);o.a},bfb6:function(e,t,s){"use strict";var i=s("43ad"),o=s.n(i);o.a},c975:function(e,t,s){"use strict";var i=s("23e7"),o=s("4d64").indexOf,n=s("a640"),u=s("ae40"),a=[].indexOf,r=!!a&&1/[1].indexOf(1,-0)<0,c=n("indexOf"),l=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:r||!c||!l},{indexOf:function(e){return r?a.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},f4fc:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ion-page",attrs:{id:"search-for-pub"}},[s("the-header"),s("ion-content",{staticClass:"ion-padding"},[e.isLoading?void 0:[e.user.userRoles&&!0===e.user.userRoles.publican?[s("ion-text",[s("h1",{staticClass:"ion-padding"},[e._v("Your Pub")])]),e.publicansPub&&""!==e.publicansPub.key?[s("ion-grid",{attrs:{fixed:""}},[s("ion-row",{staticClass:"ion-justify-content-center"},[s("ion-col",{attrs:{size:"12","size-sm":"6","size-md":"6","size-lg":"3","size-xl":"2"}},[s("pub-card",{attrs:{i:e.i,pub:e.publicansPub,actionName:"Manage"}})],1)],1)],1)]:[s("ion-grid",{staticClass:"publican-pub-grid"},[s("ion-row",{staticClass:"ion-justify-content-center"},[s("ion-col",{attrs:{size:"8","size-md":"4"}},[s("ion-label",[e._v(" You have no pub of your own added. ")])],1)],1),s("ion-row",{staticClass:"ion-justify-content-center"},[s("ion-col",{attrs:{size:"8","size-md":"4"}},[s("ion-button",{attrs:{expand:"block"},on:{click:e.createNewPub}},[e._v(" Add New Pub ")])],1)],1)],1)]]:e._e()],e.user.userRoles&&!0===e.user.userRoles.punter&&!0===e.user.userRoles.publican?s("ion-item-divider"):e._e(),1!=e.auth||e.user.userRoles&&!0===e.user.userRoles.punter?[s("ion-grid",{attrs:{fixed:""}},[s("ion-row",{staticClass:"ion-justify-content-center"},[s("ion-col",{attrs:{size:"12","size-md":"6","size-lg":"4"}},[s("ion-searchbar",{attrs:{"show-cancel-button":"focus",debounce:"300"},on:{ionChange:function(t){return e.filterSearchItems(t.target)}}})],1)],1)],1),s("ion-grid",{staticStyle:{"max-width":"1200px"}},[s("ion-row",{staticClass:"ion-justify-content-center"},e._l(e.pubs,(function(e){return s("ion-col",{directives:[{name:"show",rawName:"v-show",value:!e.hidePub,expression:"!p.hidePub"}],key:e[".key"],attrs:{size:"12","size-sm":"6","size-md":"6","size-lg":"3","size-xl":"2",animated:"true"}},[s("div",[s("pub-card",{attrs:{pub:e,actionName:"Select"}})],1)])})),1)],1)]:e._e()],2)],1)},o=[],n=(s("4160"),s("c975"),s("159b"),s("5530")),u=s("227e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("ion-card",{attrs:{button:"true"},on:{click:function(t){return t.preventDefault(),e.viewPub(t)}}},[s("ion-img",{staticClass:"pub-card-image",attrs:{src:e.pub.photoUrl}}),s("ion-card-header",[s("ion-card-subtitle",[e._v("Pub")]),s("ion-card-title",[e._v(e._s(e.pub.pubName))])],1),s("ion-card-content",{staticClass:"ion-text-capitalize"},[s("div",[e._v(" "+e._s(e.pub.addressLine1)+", "+e._s(e.pub.townCity)+", "+e._s(e.pub.county)+" ")])])],1)],1)},r=[],c=s("ff79"),l={props:["pub","actionName"],data:function(){return{i:c}},methods:{viewPub:function(){this.$router.push({name:"pub-details",params:{id:this.pub.key}})}}},d=l,b=(s("7495"),s("2877")),p=Object(b["a"])(d,a,r,!1,null,"313ec0f1",null),h=p.exports,f=s("2f62"),m={name:"search-for-pub",data:function(){return{i:c,isLoading:!0}},components:{TheHeader:u["a"],PubCard:h},computed:Object(n["a"])(Object(n["a"])({},Object(f["b"])({user:"userModule/userDetails",auth:"userModule/isAuthenticated",pubs:"pubModule/pubs",publicansPub:"pubModule/publicansPub"})),{},{publicansPub:{get:function(){return console.log("search-for-pub publicansPub Getter"),this.$store.getters["pubModule/publicansPub"]}}}),watch:{pubs:function(){console.log("pubs property has changed"),this.isLoading=!1}},created:function(){console.log("search-for-pub created method called"),this.$store.dispatch("pubModule/fetchPubs"),this.user&&""!==this.user.email||this.$store.dispatch("userModule/fetchUserDetails")},methods:{filterSearchItems:function(e){var t=this;console.log("target:",e);var s=e.value.toLowerCase();requestAnimationFrame((function(){console.log("this.pubs:",t.pubs),t.pubs.forEach((function(e,i){console.log("item:",e);var o=e.pubName.toLowerCase().indexOf(s)>-1;console.log("item.pubName.indexOf(valueToFilter):",e.pubName.toLowerCase().indexOf(s)),console.log("shouldShow:",o),console.log("!shouldShow:",!o),console.log("item.hidePub:",e.hidePub),e.hidePub=!o,t.$set(t.pubs,i,e),console.log("item.hidePub:",e.hidePub)})),console.log("pubs:",t.pubs)}))},createNewPub:function(){this.$router.push({name:"create-new-pub"})}}},g=m,v=(s("bfb6"),Object(b["a"])(g,i,o,!1,null,"9c7453ea",null));t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-f5314c36.a36b799d.js.map