(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a460f28"],{"1bec":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"ion-page"},[o("ion-header",[o("ion-toolbar",[o("ion-title",[e._v("Bookings")])],1)],1),o("ion-content",[o("ion-grid",[e.activeReservation&&e.activeReservation.pub?o("ion-row",[o("ion-col",{attrs:{size:"12","offset-md":"3","size-md":"6"}},[o("ion-card",[o("ion-card-header",[o("ion-card-title",[e._v("Active Booking")])],1),o("ion-card-content",[o("ion-item",{staticClass:"booking-item",attrs:{lines:"none"}},[o("ion-label",[o("h2",[e._v(e._s(e.activeReservation.pub.pubName))]),o("h3",[e._v(e._s(e.activeReservation.table.seats)+" seats @ table # "+e._s(e.activeReservation.table.tableNum))]),o("h3",[e._v("on Floor # "+e._s(e.activeReservation.table.floor)),o("span",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.activeReservation.table.pubFloorArea,expression:"activeReservation.table.pubFloorArea !== undefined"}]},[e._v(" ("+e._s(e.activeReservation.table.pubFloorArea)+")")])]),o("p",[e._v("on "+e._s(new Date(e.activeReservation.reservedAtDate).toDateString()))])])],1)],1)],1)],1)],1):e._e(),e.isPublican&&e.allReservationsForPubSorted&&e.allReservationsForPubSorted.length>0?o("ion-row",[o("ion-col",{attrs:{size:"12","offset-md":"3","size-md":"6"}},[o("ion-card",[o("ion-card-header",[o("ion-card-title",[e._v("Bookings")])],1),o("ion-card-content",e._l(e.allReservationsForPubSorted,(function(t){return o("ion-list",{key:t[".key"]},[o("ion-item",{staticClass:"booking-item"},[o("ion-label",[o("ion-label",[o("div",[o("h2",[e._v(e._s(t.patronDetails.patronName))]),o("h2",[e._v(e._s(t.patronDetails.patronPhone))])]),o("h3",[e._v(e._s(t.table.seats)+" seats @ table # "+e._s(t.table.tableNum))]),o("h3",[e._v("on Floor # "+e._s(t.table.floor)),void 0!==t.table.pubFloorArea?o("span",[e._v(" ("+e._s(t.table.pubFloorArea)+")")]):e._e()]),o("p",[e._v("on "+e._s(new Date(t.reservedAtDate).toDateString()))])])],1)],1)],1)})),1)],1)],1)],1):e._e(),e.previousReservations&&e.previousReservations.length>0?o("ion-row",[o("ion-col",{attrs:{size:"12","offset-md":"3","size-md":"6"}},[o("ion-card",[o("ion-card-header",[o("ion-card-title",[e._v("Previous Bookings")])],1),o("ion-card-content",e._l(e.previousReservations,(function(t){return o("ion-list",{key:t[".key"]},[o("ion-item",{staticClass:"booking-item"},[o("ion-label",[o("ion-label",[o("h2",[e._v(e._s(t.pub.pubName))]),o("h3",[e._v(e._s(t.table.seats)+" seats @ table # "+e._s(t.table.tableNum))]),o("h3",[e._v("on Floor # "+e._s(t.table.floor)),o("span",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.table.pubFloorArea,expression:"pr.table.pubFloorArea !== undefined"}]},[e._v(" ("+e._s(t.table.pubFloorArea)+")")])]),o("p",[e._v("on "+e._s(new Date(t.reservedAtDate).toDateString()))])])],1)],1)],1)})),1)],1)],1)],1):e._e()],1)],1)],1)},s=[],i=o("5530"),n=o("2f62"),r={name:"booked-tables",computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(n["b"])("userModule",["userId","isPublican","isPunter"])),Object(n["b"])("pubModule",["publicansPub"])),Object(n["b"])("reservationModule",{activeReservation:"activeReservationForPunter",previousReservations:"previousReservationsForPunter",allReservationsForPub:"allReservationsForPub"})),{},{allReservationsForPubSorted:function(){var e=this.allReservationsForPub;return e&&e.length>1?e.sort((function(e,t){return new Date(t.reservedAtDate)-new Date(e.reservedAtDate)})):e}}),created:function(){console.log("bookedTables created method called"),!0===this.isPunter||"true"===this.isPunter?(console.log("fetching all reservations for patron..."),this.$store.dispatch("reservationModule/fetchReservationsForPunter",this.userId)):!0!==this.publican&&"true"!==this.isPublican||(console.log("fetching all reservations for pub..."),this.$store.dispatch("pubModule/fetchPubByOwnerId",this.userId))}},l=r,v=(o("a2aa"),o("2877")),c=Object(v["a"])(l,a,s,!1,null,"86c7c40a",null);t["default"]=c.exports},"7ff6":function(e,t,o){},a2aa:function(e,t,o){"use strict";var a=o("7ff6"),s=o.n(a);s.a}}]);
//# sourceMappingURL=chunk-7a460f28.bac2e559.js.map